import{_ as L}from"./BQlqMBDz.js";import R from"./Bsqe5IjZ.js";import{d as k,h as z,r as _,v as A,l as C,e as B,o as e,m as a,a as f,w as p,c as D,F as E,n as S,ai as $,f as w,t as I,q as g,p as F,g as H,b as V}from"./BD-xa6AV.js";import{a as M,b as O}from"./_XSKWRrs.js";import{_ as P}from"./BCpNnAiF.js";import{V as j}from"./KpGLm1Tb.js";import{_ as G}from"./DlAUqK2U.js";const N=r=>(F("data-v-26a859f9"),r=r(),H(),r),J={key:0},K=N(()=>V("span",{class:"text-h6 px-1"},"Table of Contents",-1)),Q=N(()=>V("hr",{class:"mt-1 mb-2"},null,-1)),U={key:0,class:"ml-1"},W={key:0,class:"ml-4"},X={key:1},Y=k({__name:"PageTocMenu",props:{useObserver:{type:Boolean,default:!0}},setup(r){const T=r,v=z(),m=_(""),h=_(""),u=_(null),{height:q}=M(u),i=[];function x(t,l){var o;return l===h.value||((o=t.children)==null?void 0:o.some(c=>c.id===h.value))}function y(){i.length=0,document.querySelectorAll("h2, h3").forEach(t=>{i.push({id:t.id,position:t.getBoundingClientRect().top})}),u.value&&i.push({id:"-",position:u.value.getBoundingClientRect().bottom})}return A(()=>{T.useObserver&&(u.value=document.querySelector("article"),y(),O(window,"scroll",P.throttle(()=>{const t=document.documentElement.scrollTop,l=80,o=i.findIndex(c=>t+l<c.position);h.value=o<=0?"":i[o-1].id},100),{passive:!0}))}),C(q,t=>{t&&y()},{immediate:!0}),C(()=>v.path,t=>{m.value=v.name!=="post-slug"?"":t},{immediate:!0}),(t,l)=>{const o=L,c=R;return B(m)?(e(),a("div",J,[f(c,{path:B(m)},{default:p(({doc:d})=>{var b;return[(b=d.body.toc)!=null&&b.links.length?(e(),D(j,{key:0,variant:"plain",ripple:!1,class:"pt-2"},{default:p(()=>[K,Q,d.body.toc&&d.body.toc.links?(e(),a("ul",U,[(e(!0),a(E,null,S(d.body.toc.links,s=>(e(),a("li",{key:`${s.id}-${s.text}`,class:$({highlight:x(s,s.id)})},[f(o,{href:`#${s.id}`},{default:p(()=>[w(I(s.text),1)]),_:2},1032,["href"]),s.children?(e(),a("ul",W,[(e(!0),a(E,null,S(s.children,n=>(e(),a("li",{key:`${n.id}-${n.text}`,class:$({highlight:x(n,n.id)})},[f(o,{href:`#${n.id}`},{default:p(()=>[w(I(n.text),1)]),_:2},1032,["href"])],2))),128))])):g("",!0)],2))),128))])):g("",!0)]),_:2},1024)):g("",!0)]}),_:1},8,["path"])])):(e(),a("div",X))}}}),rt=G(Y,[["__scopeId","data-v-26a859f9"]]);export{rt as _};
