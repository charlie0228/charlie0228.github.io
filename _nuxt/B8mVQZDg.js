import{d as O,r as Y,v as H,z as J,m as $,o as C,c as T,w as x,q as Q,f as P,t as V,b as L,a as s,V as F,F as Z,n as ee,B as ae,C as te,I as B,D as le,E as ne,G as ie,H as se,J as re,K as oe,L as ue,M as ce,N as de,O as ve,P as fe,Q as ge,R as me,S as be,T as pe,U as ye,W as D,X as _e,j as y,Y as p,Z as he,$ as R,x as S,a0 as I,a1 as z,a2 as E}from"./BrNl78AN.js";import{u as ke}from"./CW34TU57.js";import{V as xe,u as Pe}from"./DdQf4Rbq.js";import{V as Ve}from"./C6prVPvl.js";import{_ as Le}from"./DlAUqK2U.js";const Se=Symbol.for("nuxt:client-only"),Ie=O({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:d,attrs:i}){const m=Y(!1);return H(()=>{m.value=!0}),J(Se,!0),a=>{var A;if(m.value)return(A=d.default)==null?void 0:A.call(d);const r=d.fallback||d.placeholder;if(r)return r();const _=a.fallback||a.placeholder||"",v=a.fallbackTag||a.placeholderTag||"span";return $(v,i,_)}}}),Ae={key:0,class:"text-red"},Ce={class:"d-flex pt-1 text-caption"},Be={class:"d-flex",title:"發布日期"},Re={class:"d-flex ml-3",title:"最後更新日期"},we={class:"d-flex align-center pt-1 text-caption"},Fe={class:"tag-wrapper d-flex overflow-x-auto"},$e=O({__name:"PostCard",props:{article:{}},setup(e){const d=ke();function i(a,r="YYYY-MM-DD"){return d(a).format(r)}function m(a){return Pe(a)}return(a,r)=>{const _=Ie;return C(),T(Ve,{class:"mb-4",variant:"plain",ripple:!1,to:a.article.path},{title:x(()=>[a.article.draft?(C(),$("span",Ae,"[草稿] ")):Q("",!0),P(" "+V(a.article.title),1)]),subtitle:x(()=>[L("div",Ce,[L("span",Be,[s(F,{icon:"mdi-calendar-blank mr-1"}),P(" "+V(i(a.article.createdAt)),1)]),L("span",Re,[s(F,{icon:"mdi-update mr-1"}),P(" "+V(i(a.article.updatedAt)),1)])]),L("div",we,[s(F,{icon:"mdi-tag-multiple-outline mr-1"}),L("div",Fe,[s(_,null,{default:x(()=>[(C(!0),$(Z,null,ee(m(a.article.tags),v=>(C(),T(xe,{key:v.name,class:"tag",size:"x-small",color:"grey-darken-4",to:v.link},{default:x(()=>[P(V(v.name),1)]),_:2},1032,["to"]))),128))]),_:1})])])]),text:x(()=>[P(V(a.article.description),1)]),_:1},8,["to"])}}}),Ye=Le($e,[["__scopeId","data-v-17cfb38d"]]);function Me(){const e=Y([]);ae(()=>e.value=[]);function d(i,m){e.value[m]=i}return{refs:e,updateRef:d}}const Ne=te({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:B,default:"$first"},prevIcon:{type:B,default:"$prev"},nextIcon:{type:B,default:"$next"},lastIcon:{type:B,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...le(),...ne(),...ie(),...se(),...re(),...oe(),...ue({tag:"nav"}),...ce(),...de({variant:"text"})},"VPagination"),je=ve()({name:"VPagination",props:Ne(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,d){let{slots:i,emit:m}=d;const a=fe(e,"modelValue"),{t:r,n:_}=ge(),{isRtl:v}=me(),{themeClasses:A}=be(e),{width:j}=pe(),w=ye(-1);D(void 0,{scoped:!0});const{resizeRef:K}=_e(t=>{if(!t.length)return;const{target:l,contentRect:n}=t[0],c=l.querySelector(".v-pagination__list > *");if(!c)return;const f=n.width,k=c.offsetWidth+parseFloat(getComputedStyle(c).marginRight)*2;w.value=M(f,k)}),o=y(()=>parseInt(e.length,10)),u=y(()=>parseInt(e.start,10)),g=y(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):w.value>=0?w.value:M(j.value,58));function M(t,l){const n=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((t-l*n)/l).toFixed(2)))}const W=y(()=>{if(o.value<=0||isNaN(o.value)||o.value>Number.MAX_SAFE_INTEGER)return[];if(g.value<=0)return[];if(g.value===1)return[a.value];if(o.value<=g.value)return R(o.value,u.value);const t=g.value%2===0,l=t?g.value/2:Math.floor(g.value/2),n=t?l:l+1,c=o.value-l;if(n-a.value>=0)return[...R(Math.max(1,g.value-1),u.value),e.ellipsis,o.value];if(a.value-c>=(t?1:0)){const f=g.value-1,k=o.value-f+u.value;return[u.value,e.ellipsis,...R(f,k)]}else{const f=Math.max(1,g.value-3),k=f===1?a.value:a.value-Math.ceil(f/2)+u.value;return[u.value,e.ellipsis,...R(f,k),e.ellipsis,o.value]}});function h(t,l,n){t.preventDefault(),a.value=l,n&&m(n,l)}const{refs:q,updateRef:G}=Me();D({VPaginationBtn:{color:p(e,"color"),border:p(e,"border"),density:p(e,"density"),size:p(e,"size"),variant:p(e,"variant"),rounded:p(e,"rounded"),elevation:p(e,"elevation")}});const U=y(()=>W.value.map((t,l)=>{const n=c=>G(c,l);if(typeof t=="string")return{isActive:!1,key:`ellipsis-${l}`,page:t,props:{ref:n,ellipsis:!0,icon:!0,disabled:!0}};{const c=t===a.value;return{isActive:c,key:t,page:_(t),props:{ref:n,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:c?e.activeColor:e.color,"aria-current":c,"aria-label":r(c?e.currentPageAriaLabel:e.pageAriaLabel,t),onClick:f=>h(f,t)}}}})),b=y(()=>{const t=!!e.disabled||a.value<=u.value,l=!!e.disabled||a.value>=u.value+o.value-1;return{first:e.showFirstLastPage?{icon:v.value?e.lastIcon:e.firstIcon,onClick:n=>h(n,u.value,"first"),disabled:t,"aria-label":r(e.firstAriaLabel),"aria-disabled":t}:void 0,prev:{icon:v.value?e.nextIcon:e.prevIcon,onClick:n=>h(n,a.value-1,"prev"),disabled:t,"aria-label":r(e.previousAriaLabel),"aria-disabled":t},next:{icon:v.value?e.prevIcon:e.nextIcon,onClick:n=>h(n,a.value+1,"next"),disabled:l,"aria-label":r(e.nextAriaLabel),"aria-disabled":l},last:e.showFirstLastPage?{icon:v.value?e.firstIcon:e.lastIcon,onClick:n=>h(n,u.value+o.value-1,"last"),disabled:l,"aria-label":r(e.lastAriaLabel),"aria-disabled":l}:void 0}});function N(){var l;const t=a.value-u.value;(l=q.value[t])==null||l.$el.focus()}function X(t){t.key===z.left&&!e.disabled&&a.value>+e.start?(a.value=a.value-1,E(N)):t.key===z.right&&!e.disabled&&a.value<u.value+o.value-1&&(a.value=a.value+1,E(N))}return he(()=>s(e.tag,{ref:K,class:["v-pagination",A.value,e.class],style:e.style,role:"navigation","aria-label":r(e.ariaLabel),onKeydown:X,"data-test":"v-pagination-root"},{default:()=>[s("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&s("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[i.first?i.first(b.value.first):s(S,I({_as:"VPaginationBtn"},b.value.first),null)]),s("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[i.prev?i.prev(b.value.prev):s(S,I({_as:"VPaginationBtn"},b.value.prev),null)]),U.value.map((t,l)=>s("li",{key:t.key,class:["v-pagination__item",{"v-pagination__item--is-active":t.isActive}],"data-test":"v-pagination-item"},[i.item?i.item(t):s(S,I({_as:"VPaginationBtn"},t.props),{default:()=>[t.page]})])),s("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[i.next?i.next(b.value.next):s(S,I({_as:"VPaginationBtn"},b.value.next),null)]),e.showFirstLastPage&&s("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[i.last?i.last(b.value.last):s(S,I({_as:"VPaginationBtn"},b.value.last),null)])])]})),{}}});export{je as V,Ie as _,Ye as a};
