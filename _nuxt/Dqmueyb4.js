import{u as n}from"./D3ay_MHq.js";import{q as o}from"./Ddq1tyZI.js";function c(){const s=n();return{queryArticles:async a=>{const r={...a?{tags:{$icontains:a.replace(/-/g," ")}}:{}};return(await o("/post").where({...r,draft:{$ne:!0}}).only(["_path","_draft","draft","title","description","tags","customCreatedAt","createdAt","updatedAt"]).find()).map(t=>{const e=t.customCreatedAt||t.createdAt;return{path:t._path,draft:t._draft||t.draft,title:t.title,description:t.description,tags:t.tags,timestamp:new Date(e).valueOf()||Date.now(),createdAt:e,updatedAt:t.updatedAt,year:s(e).year(),month:s(e).month()}}).sort((t,e)=>e.timestamp-t.timestamp)}}}export{c as u};
