import{u as n}from"./index.-xAw9dCD.js";import{q as o}from"./query.MqgA_Wlh.js";function i(){const s=n();return{queryArticles:async a=>{const r={...a?{tags:{$contains:a.replace(/-/g," ")}}:{}};return(await o("/post").where({...r,draft:{$ne:!0}}).only(["_path","draft","title","description","tags","customCreatedAt","createdAt","updatedAt"]).find()).map(t=>{const e=t.customCreatedAt||t.createdAt;return{path:t._path,draft:t._draft||t.draft,title:t.title,description:t.description,tags:t.tags,timestamp:new Date(e).valueOf()||Date.now(),createdAt:e,updatedAt:t.updatedAt,year:s(e).year(),month:s(e).month()}}).sort((t,e)=>e.timestamp-t.timestamp)}}}export{i as u};
